## 헤더 컴포넌트 기능명세서

---

### 프론트엔드 기능명세서

#### 1. 화면 레이아웃 및 디자인 명세

- **파일 위치**: `components/layout/header.tsx`

1. **헤더 레이아웃**
   - **UI 구성**: 
     - 높이: 64px (h-16)
     - 배경색: 흰색(#FFFFFF)
     - 하단 보더: 1px solid #E5E7EB
     - 최대 너비: 1200px
     - 좌우 패딩: 24px (px-6)
     - position: fixed로 설정하여 스크롤 시에도 상단에 고정
   - **반응형 처리**: 
     - 모바일: 햄버거 메뉴로 변환 (md: 브레이크포인트)
     - 태블릿: 기본 메뉴 유지하되 간격 조정
     - 데스크톱: 전체 메뉴 표시

2. **로고 섹션**
   - **UI 구성**: 
     - 좌측에 배치
     - 크기: 높이 48px, 너비 48px (h-12 w-12)
     - 클릭 시 메인 페이지(`/`)로 이동
   - **이미지 최적화**: 
     - Next.js Image 컴포넌트 사용
     - priority 속성으로 우선 로딩
     - 적절한 이미지 포맷(webp) 사용

3. **네비게이션 메뉴**
   - **UI 구성**: 
     - 우측에 배치
     - 메뉴 항목: '이미지 생성', '내 갤러리' 순서로 배치
     - 폰트: 16px (text-base), Semi-Bold
     - 메뉴 간격: 32px (space-x-8)
     - 호버 시 메인 색상(#4A90E2)으로 변경
     - 현재 페이지 메뉴는 하단에 2px 두께의 메인 색상 언더라인 표시
   - **상호작용**:
     - 각 메뉴 클릭 시 해당 페이지로 이동
     - 현재 페이지 메뉴는 활성화 상태로 표시
     - 호버 시 부드러운 색상 전환 애니메이션

4. **인증 섹션**
   - **UI 구성**:
     - 네비게이션 메뉴 우측에 배치
     - 로그인 상태에 따라 다른 UI 표시
   - **로그인 상태**:
     - Clerk의 UserButton 컴포넌트 표시
     - 로그아웃 시 메인 페이지('/')로 이동
   - **비로그인 상태**:
     - 로그인 버튼 표시
     - 모달 방식으로 로그인 UI 표시
     - 버튼 스타일: 파란색 배경(#2563EB), 흰색 텍스트
   - **반응형 처리**:
     - 데스크톱: 네비게이션 메뉴 우측에 배치
     - 모바일: 햄버거 메뉴 내부에 배치

5. **모바일 햄버거 메뉴**
   - **UI 구성**:
     - 화면 너비 768px 이하에서 표시
     - 우측에 햄버거 아이콘 배치
     - 클릭 시 슬라이드 애니메이션으로 메뉴 표시
   - **상호작용**:
     - 햄버거 아이콘 클릭 시 메뉴 토글
     - 메뉴 외부 클릭 시 자동 닫힘
     - ESC 키로 메뉴 닫기 가능
   - **메뉴 항목**:
     - 전체 너비로 표시
     - 현재 페이지 메뉴는 파란색 텍스트와 연한 파란색 배경으로 표시
     - 호버 시 연한 회색 배경으로 표시

#### 2. 사용자 흐름 및 상호작용

1. **페이지 이동**
   - 로고 클릭 → 메인 페이지(`/`)
   - '이미지 생성' 클릭 → 이미지 생성 페이지(`/generate`)
   - '내 갤러리' 클릭 → 갤러리 페이지(`/gallery`)

2. **인증 관련 동작**
   - 로그인 버튼 클릭 → 로그인 모달 표시
   - 로그인 성공 → UserButton으로 전환
   - UserButton 클릭 → 프로필 메뉴 표시
   - 로그아웃 → 메인 페이지('/')로 이동

3. **모바일 메뉴 동작**
   - 햄버거 아이콘 클릭 → 메뉴 슬라이드 인
   - 메뉴 항목 클릭 → 해당 페이지로 이동 후 메뉴 자동 닫힘
   - 외부 영역 클릭 → 메뉴 슬라이드 아웃
   - ESC 키 → 메뉴 닫기

#### 3. 테스트 항목

1. **레이아웃 테스트**
   - 헤더가 모든 페이지에서 일관된 높이와 스타일로 표시되는지 확인
   - 스크롤 시 상단에 고정되는지 확인
   - 반응형 디자인이 각 브레이크포인트에서 올바르게 적용되는지 확인

2. **로고 테스트**
   - 로고 이미지가 올바르게 로드되는지 확인
   - 로고 클릭 시 메인 페이지로 이동하는지 확인
   - 이미지 최적화가 제대로 적용되는지 확인

3. **네비게이션 메뉴 테스트**
   - 모든 메뉴 항목이 올바른 순서로 표시되는지 확인
   - 메뉴 호버 시 색상 변경이 부드럽게 표시되는지 확인
   - 현재 페이지 메뉴가 활성화 상태로 표시되는지 확인

4. **인증 기능 테스트**
   - 로그인/로그아웃 상태에 따라 올바른 UI가 표시되는지 확인
   - 로그인 모달이 정상적으로 표시되는지 확인
   - UserButton의 프로필 메뉴가 정상적으로 동작하는지 확인
   - 로그아웃 시 메인 페이지로 이동하는지 확인

5. **모바일 메뉴 테스트**
   - 768px 이하에서 햄버거 메뉴로 변환되는지 확인
   - 메뉴 열기/닫기 애니메이션이 부드럽게 동작하는지 확인
   - 메뉴 외부 클릭과 ESC 키로 닫히는지 확인
   - 모바일 메뉴 내 인증 버튼이 올바르게 표시되는지 확인

---

### 백엔드 기능명세서

#### 1. 사용자 인증 상태 확인 API

- **파일 위치**: `app/api/auth/status/route.ts`
- **HTTP 메서드**: `GET`
- **설명**: 헤더에서 사용자의 로그인 상태를 확인하기 위한 API입니다.
- **응답 데이터**: 
  ```typescript
  {
    isAuthenticated: boolean;
    user?: {
      id: string;
      name: string;
      email: string;
      profileImage?: string;
    };
    error?: {
      code: string;     // UNAUTHORIZED | INTERNAL_SERVER_ERROR
      message: string;
    };
  }
  ```

#### 2. 사용자 프로필 정보 API

- **파일 위치**: `app/api/user/profile/route.ts`
- **HTTP 메서드**: `GET`
- **설명**: 헤더에서 사용자의 프로필 정보를 표시하기 위한 API입니다.
- **응답 데이터**: 
  ```typescript
  {
    success: boolean;
    profile?: {
      id: string;
      name: string;
      email: string;
      profileImage?: string;
      galleryCount: number;
      postCount: number;
    };
    error?: {
      code: string;     // UNAUTHORIZED | USER_NOT_FOUND | INTERNAL_SERVER_ERROR
      message: string;
    };
  }
  ``` 